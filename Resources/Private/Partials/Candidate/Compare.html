{namespace v=FluidTYPO3\Vhs\ViewHelpers}
<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
	<div class="row">
		<div class="col-12">
			<div role="tab" id="heading-{iterator.cycle}">
				<v:variable.set name="candidateOpinion" value="{v:iterator.filter(subject: '{candidate.opinions}', filter: '{opinion.uidLocal}', propertyName: 'uidLocal')}"/>
				<v:variable.set name="candidateOpinion" value="{candidateOpinion.0}"/>
				<span class="d-flex align-items-center">
					<div class="w-100">
						<f:if condition="{candidateOpinion.explanation}">
							<f:then>
								<h5 class="collapse-header collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse-{iterator.cycle}" aria-expanded="true" aria-controls="collapse-{iterator.cycle}">
									<span>{candidate.fullName}</span>
								</h5>
							</f:then>
							<f:else>
								<h5>
									<span>{candidate.fullName}</span>
								</h5>
							</f:else>
						</f:if>
					</div>
					<f:if condition="{candidateOpinion.emphasize}">
						<span class="opinion-wrap mr-1">
							<i class="fi flaticon-star"></i>
					</span>
					</f:if>
					<f:if condition="{candidateOpinion.opinion} != 0">
						<span class="opinion-wrap">
							<f:switch expression="{candidateOpinion.opinion}">
								<f:case value="2"><i class="fi flaticon-check"></i></f:case>
								<f:case value="-1"><i class="fi flaticon-cancel"></i></f:case>
								<f:case value="1"><i class="fi flaticon-minus"></i></f:case>
								<f:case value="0"><i class="fi"></i></f:case>
							</f:switch>
						</span>
					</f:if>
				</span>
			</div>

			<f:if condition="{candidateOpinion.explanation}">
				<div id="collapse-{iterator.cycle}" class="collapse thesis-collapse" role="tabpanel" aria-labelledby="heading-{iterator.cycle}">
					<div><f:format.raw>{candidateOpinion.explanation}</f:format.raw></div>
				</div>
			</f:if>
			<hr/>
		</div>
	</div>
</html>
