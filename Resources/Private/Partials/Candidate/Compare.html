{namespace v=FluidTYPO3\Vhs\ViewHelpers}
<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
	<div class="row">
		<div class="col-12">
			<div role="tab" id="heading-{iterator.cycle}">
				<v:variable.set name="candidateOpinion" value="{v:iterator.filter(subject: '{candidate.opinions}', filter: '{opinion.uidLocal}', propertyName: 'uidLocal')}"/>
				<v:variable.set name="candidateOpinion" value="{candidateOpinion.0}"/>
				<span class="d-flex align-items-center">
					<div class="w-100">
						<f:if condition="{candidateOpinion.explanation}">
							<f:then>
								<h5 class="collapse-header" data-toggle="collapse" data-parent="#accordion" href="#collapse-{iterator.cycle}" aria-expanded="true" aria-controls="collapse-{iterator.cycle}">
									{candidate.fullName}
								</h5>
							</f:then>
							<f:else>
								<h5>
									{candidate.fullName}
								</h5>
							</f:else>
						</f:if>

					</div>
					<span class="opinion-wrap">
						<f:switch expression="{candidateOpinion.opinion}">
							<f:case value="2"><i class="fi flaticon-check float-right"></i></f:case>
							<f:case value="-1"><i class="fi flaticon-cancel float-right"></i></f:case>
							<f:case value="1"><i class="fi flaticon-minus float-right"></i></f:case>
							<f:case value="0"><i class="fi float-right"></i></f:case>
						</f:switch>
					</span>
				</span>
			</div>

			<f:if condition="{candidateOpinion.explanation}">
				<div id="collapse-{iterator.cycle}" class="collapse thesis-collapse" role="tabpanel" aria-labelledby="heading-{iterator.cycle}">
					<p>{candidateOpinion.explanation}</p>
				</div>
			</f:if>
			<hr/>
		</div>
	</div>
</html>
